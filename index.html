<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Cats application</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

    <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"/>

    <!-- build:css /build/app.css -->
    <link rel="stylesheet" type="text/css" href="/app/app.css"/>
    <!-- /build -->

    <script src="/bower_components/angular/angular.min.js"></script>

    <!-- build:js /build/angular-training.js -->
    <script src="/app/app.js"></script>
    <script src="/app/components/controllers/mainController.js"></script>
    <!-- /build -->

</head>
<body ng-app="app" ng-cloak="">

<div ng-controller="mainController" class="container">
    <div ng-include="'/app/templates/main.html'"></div>

    <ul class="list">
        <li ng-repeat="cat in cats">
            <a href="#" ng-click="showCat(cat)" ng-class="cat.viewed ? 'viewed' : ''">{{cat.name}}</a>
        </li>
    </ul>

    <form class="search" ng-submit="search(searchText)">
        <p>
            <input type="text" ng-model="searchText" />
            <button type="submit">Search</button>
        </p>
        <p>
            <label>
                <span>Sort by </span>
                <select ng-options="label as label for label in sorting"
                        ng-model="selected"
                        ng-init="selected = sorting[0]"
                        ng-change="sortResults()">
                </select>
            </label>
        </p>
    </form>

    <ul class="view">
        <li ng-repeat="currentCat in searchResults">
            <form ng-submit="saveForm(currentCat)">
                <img ng-click="count(currentCat)" ng-src="{{currentCat.src}}"/>
                <span class="counter">{{currentCat.counter ? currentCat.counter : 0}}</span>
                <h2>{{currentCat.name}}</h2>

                <div class="control">
                    <button class="btn-reset float-left" type="button" ng-click="resetForm(currentCat)">Reset</button>

                    <div class="draft-name float-left">
                        <input type="text" placeholder="Cat name" ng-model="currentCat.draftName" />
                    </div>
                    <div class="draft-url float-left">
                        <input type="url" placeholder="Picture Url" ng-model="currentCat.draftPictUrl" />
                    </div>

                    <input class="vote float-left" type="number" ng-model="currentCat.vote"/>
                    <button class="btn-submit float-left" type="submit">Save</button>
                </div>
            </form>
        </li>
    </ul>
</div>

</body>
</html>