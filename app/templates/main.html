<div ui-view></div>

<div class="main">
    <div class="search">
        <input class="form-control search-input black" placeholder="search..." ng-model="searchCatName">
        <span class="bg-primary cursor btn" ng-click="search(searchCatName)">Search</span>

        <select class="form-control dropdown" ng-model="sort">
            <option value="-name">Ask</option>
            <option value="name">Desk</option>
        </select>

    </div>

    <br />
<div class="bg-warning pluralize text-center">
    <ng-pluralize  count="goodRatingCats.length"
        when="{'0': 'No one cat is liked.',
        'one': '1 || {{ goodRatingCats[0] }} || is liked.',
        'other': '{} cats are liked.'}">
    </ng-pluralize>
</div>
    <br />

    <div class="cat-names-list"  ng-repeat="cat in cats | filter: { name: searchCatNameFilter } | orderBy: sort">
        <div class="bg-success">
            <uib-accordion>
                <h1 class="cursor cat-view" ng-click="show(cat)">{{ cat.clickCount | clickCountFilter }} Name: {{ cat.name }} <span ng-show="cat.view">&#8730;</span>
                    <uib-accordion-group class="text-center" ng-show="checkUserPermissions(cat.creator)" heading="Edit/Delete">
                        <div>
                            <span  class="btn btn-info"><a ng-href = "#/edit/{{cat.id}}">Edit</a></span>
                            <span  class="btn btn-danger" ng-click="deleteCat(cat)">Delete</span>
                        </div>
                    </uib-accordion-group>
                </h1>
            </uib-accordion>
        </div>
    </div>

    <div ng-show="selectedCat.name" class="selected-cat">
        <div class="bg-success">
            <h1>Current Name: {{ selectedCat.name }}</h1>
            <h2>Click count: {{ selectedCat.clickCount }}</h2>
            <h2>Created {{ selectedCat.addCatTime | date:"dd-MMM-yyyy" }}</h2>
        </div>

        <div style="margin-left: 115px;">
            <img class="cat-photo" ng-src="{{selectedCat.link}}">
            <vote-spinner ng-show="activeUserLogin && activeUserLogin !== selectedCat.creator" current-cat="selectedCat" update-cat-votes = "updateCatVotes()"></vote-spinner>
        </div>
    </div>
</div>